<canvas
  id="stars-canvas"
  class="fixed top-0 left-0 w-full h-full z-[-1] pointer-events-none"
  style="display: block;"
></canvas>

<script type="module">
  const canvas = document.getElementById("stars-canvas");
  const ctx = canvas.getContext("2d");

  let stars = [], mouseX = 0, mouseY = 0;
  const numStars = 120;

  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  window.addEventListener("resize", resize);
  resize();

  for (let i = 0; i < numStars; i++) {
    stars.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      radius: Math.random() * 1.5 + 0.5,
      speedX: Math.random() * 0.3 - 0.15,
      speedY: Math.random() * 0.3 - 0.15,
    });
  }

  document.addEventListener("mousemove", (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let star of stars) {
      let dx = star.x - mouseX;
      let dy = star.y - mouseY;
      let dist = Math.sqrt(dx * dx + dy * dy);
      let brightness = Math.max(0.2, 1 - dist / 300);

      ctx.beginPath();
      ctx.arc(star.x, star.y, star.radius, 0, 2 * Math.PI);
      ctx.fillStyle = `rgba(255, 255, 255, ${brightness})`;
      ctx.fill();

      star.x += star.speedX;
      star.y += star.speedY;

      if (star.x < 0) star.x = canvas.width;
      if (star.x > canvas.width) star.x = 0;
      if (star.y < 0) star.y = canvas.height;
      if (star.y > canvas.height) star.y = 0;
    }
    requestAnimationFrame(draw);
  }

  draw();
</script>

